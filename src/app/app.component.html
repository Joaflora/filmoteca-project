<app-header></app-header>
<div class="container-fluid">
    
  <!--app-search-bar></app-search-bar-->
  <div class="row text-center search-bar">
    <div class="col-md-6 d-flex justify-content-center">
      <input type="text" class="form-control p-2" #movieInput placeholder="Introduce el tÃ­tulo...">
      <button class="btn btn-danger p-2">Buscar</button>
    </div>
  </div>

    
    <ng-container *ngIf="apiResponse['Response'] == 'False'; else elseTemplate">
      <div class=ex1 >
        <div class="col-12 text-center">
          <div class="alert alert-danger" role="alert">
            {{apiResponse['Error']}}
          </div>
        </div>
      </div>
    </ng-container>

    <ng-template #elseTemplate>
      <!-- Per a cada pelicula obtinguda, creem una carta -->
      <div class="row movie-list-info">
        <!-- app-movie-list></app-movie-list -->
        <!-- INICI MOVIE LIST -->
        <div class="col-md-6">
          <div class="list-group" *ngFor="let movie of apiResponse['results']">
            <button class="list-group-item list-group-item-action" (click)="getDetails(this.movie)">
              {{movie['title']}}
            </button>
          </div>
        </div>
          
        <!-- FI MOVIE LIST -->
        
        <!-- app-movie-details></app-movie-details -->
        <!-- INICI MOVIE DETAILS -->
        <div class="col-md-5">
          <div class="card" [hidden]="isShowDiv">
            <img src="https://image.tmdb.org/t/p/w185/{{movieDetails['backdrop_path']}}" class="card-img-top">
            <div class="card-body">
              <h4 class="card-title">{{movieDetails['title']}}</h4>
              <p>{{movieDetails['overview']}}</p>
              <p> <b>Director(s):</b> {{directors}}</p>
              <p> <b>Reparto:</b> {{actors}}</p>
              <p> <b>Idioma:</b> {{movieDetails['original_language']}}</p>
            </div>
          </div>
        </div>
        <!-- FI MOVIE DETAILS -->
      </div>
    </ng-template>
</div>

